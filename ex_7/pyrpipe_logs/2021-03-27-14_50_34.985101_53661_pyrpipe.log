# Start Log
# pyrpipe version: 0.0.5
# Script file: pipeline_trim_align.py
# MD5 checksum: 412587344ed1162f90092d2b6447b5cf
# Full command: python pipeline_trim_align.py --force --threads 10
# Script options: pipeline_trim_align.py
{"cmd": "trim_galore --cores 10 --paired -o ../data ../data/reads_1.fastq ../data/reads_2.fastq", "exitcode": 0, "runtime": "0:00:03", "starttime": "21-03-27 14:50:37", "stdout": "Using an excessive number of cores has a diminishing return! It is recommended not to exceed 8 cores per trimming process (you asked for 10 cores). Please consider re-specifying\nPath to Cutadapt set as: 'cutadapt' (default)\nCutadapt seems to be working fine (tested command 'cutadapt --version')\nCutadapt version: 3.3\nCould not detect version of Python used by Cutadapt from the first line of Cutadapt (but found this: >>>#!/bin/sh<<<)\nLetting the (modified) Cutadapt deal with the Python version instead\npigz 2.6\nParallel gzip (pigz) detected. Proceeding with multicore (de)compression using 10 cores\n\nNo quality encoding type selected. Assuming that the data provided uses Sanger encoded Phred scores (default)\n\nOutput will be written into the directory: /ocean/projects/mcb190119p/usingh/urmi/covid_workshop/COVID_RNASeq_workshop_2021/data/\n\n\nAUTO-DETECTING ADAPTER TYPE\n===========================\nAttempting to auto-detect adapter type from the first 1 million sequences of the first file (>> ../data/reads_1.fastq <<)\n\nFound perfect matches for the following adapter sequences:\nAdapter type\tCount\tSequence\tSequences analysed\tPercentage\nIllumina\t0\tAGATCGGAAGAGC\t67961\t0.00\nNextera\t0\tCTGTCTCTTATA\t67961\t0.00\nsmallRNA\t0\tTGGAATTCTCGG\t67961\t0.00\nUnable to auto-detect most prominent adapter from the first specified file (count Illumina: 0, count Nextera: 0, count smallRNA: 0)\nDefaulting to Illumina universal adapter ( AGATCGGAAGAGC ). Specify -a SEQUENCE to avoid this behavior).\n\nWriting report to '/ocean/projects/mcb190119p/usingh/urmi/covid_workshop/COVID_RNASeq_workshop_2021/data/reads_1.fastq_trimming_report.txt'\n\nSUMMARISING RUN PARAMETERS\n==========================\nInput filename: ../data/reads_1.fastq\nTrimming mode: paired-end\nTrim Galore version: 0.6.6\nCutadapt version: 3.3\nPython version: could not detect\nNumber of cores used for trimming: 10\nQuality Phred score cutoff: 20\nQuality encoding type selected: ASCII+33\nAdapter sequence: 'AGATCGGAAGAGC' (Illumina TruSeq, Sanger iPCR; default (inconclusive auto-detection))\nMaximum trimming error rate: 0.1 (default)\nMinimum required adapter overlap (stringency): 1 bp\nMinimum required sequence length for both reads before a sequence pair gets removed: 20 bp\n\nCutadapt seems to be fairly up-to-date (version 3.3). Setting -j 10\nWriting final adapter and quality trimmed output to reads_1_trimmed.fq\n\n\n  >>> Now performing quality (cutoff '-q 20') and adapter trimming in a single pass for the adapter sequence: 'AGATCGGAAGAGC' from file ../data/reads_1.fastq <<< \nThis is cutadapt 3.3 with Python 3.8.6\nCommand line parameters: -j 10 -e 0.1 -q 20 -O 1 -a AGATCGGAAGAGC ../data/reads_1.fastq\nProcessing reads on 10 cores in single-end mode ...\nFinished in 0.20 s (3 \u00b5s/read; 20.18 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                  67,961\nReads with adapters:                     8,311 (12.2%)\nReads written (passing filters):        67,961 (100.0%)\n\nTotal basepairs processed:     6,503,444 bp\nQuality-trimmed:                   1,066 bp (0.0%)\nTotal written (filtered):      6,491,872 bp (99.8%)\n\n=== Adapter 1 ===\n\nSequence: AGATCGGAAGAGC; Type: regular 3'; Length: 13; Trimmed: 8311 times\n\nNo. of allowed errors:\n1-9 bp: 0; 10-13 bp: 1\n\nBases preceding removed adapters:\n  A: 39.4%\n  C: 28.3%\n  G: 15.0%\n  T: 17.3%\n  none/other: 0.0%\n\nOverview of removed sequences\nlength\tcount\texpect\tmax.err\terror counts\n1\t6899\t16990.2\t0\t6899\n2\t764\t4247.6\t0\t764\n3\t544\t1061.9\t0\t544\n4\t75\t265.5\t0\t75\n5\t27\t66.4\t0\t27\n6\t2\t16.6\t0\t2\n\nRUN STATISTICS FOR INPUT FILE: ../data/reads_1.fastq\n=============================================\n67961 sequences processed in total\nThe length threshold of paired-end sequences gets evaluated later on (in the validation step)\n\nWriting report to '/ocean/projects/mcb190119p/usingh/urmi/covid_workshop/COVID_RNASeq_workshop_2021/data/reads_2.fastq_trimming_report.txt'\n\nSUMMARISING RUN PARAMETERS\n==========================\nInput filename: ../data/reads_2.fastq\nTrimming mode: paired-end\nTrim Galore version: 0.6.6\nCutadapt version: 3.3\nPython version: could not detect\nNumber of cores used for trimming: 10\nQuality Phred score cutoff: 20\nQuality encoding type selected: ASCII+33\nAdapter sequence: 'AGATCGGAAGAGC' (Illumina TruSeq, Sanger iPCR; default (inconclusive auto-detection))\nMaximum trimming error rate: 0.1 (default)\nMinimum required adapter overlap (stringency): 1 bp\nMinimum required sequence length for both reads before a sequence pair gets removed: 20 bp\n\nCutadapt seems to be fairly up-to-date (version 3.3). Setting -j -j 10\nWriting final adapter and quality trimmed output to reads_2_trimmed.fq\n\n\n  >>> Now performing quality (cutoff '-q 20') and adapter trimming in a single pass for the adapter sequence: 'AGATCGGAAGAGC' from file ../data/reads_2.fastq <<< \nThis is cutadapt 3.3 with Python 3.8.6\nCommand line parameters: -j 10 -e 0.1 -q 20 -O 1 -a AGATCGGAAGAGC ../data/reads_2.fastq\nProcessing reads on 10 cores in single-end mode ...\nFinished in 0.20 s (3 \u00b5s/read; 19.99 M reads/minute).\n\n=== Summary ===\n\nTotal reads processed:                  67,961\nReads with adapters:                    10,094 (14.9%)\nReads written (passing filters):        67,961 (100.0%)\n\nTotal basepairs processed:     6,399,836 bp\nQuality-trimmed:                   1,126 bp (0.0%)\nTotal written (filtered):      6,385,504 bp (99.8%)\n\n=== Adapter 1 ===\n\nSequence: AGATCGGAAGAGC; Type: regular 3'; Length: 13; Trimmed: 10094 times\n\nNo. of allowed errors:\n1-9 bp: 0; 10-13 bp: 1\n\nBases preceding removed adapters:\n  A: 42.4%\n  C: 23.4%\n  G: 17.9%\n  T: 16.3%\n  none/other: 0.0%\n\nOverview of removed sequences\nlength\tcount\texpect\tmax.err\terror counts\n1\t8146\t16990.2\t0\t8146\n2\t934\t4247.6\t0\t934\n3\t910\t1061.9\t0\t910\n4\t64\t265.5\t0\t64\n5\t39\t66.4\t0\t39\n11\t1\t0.0\t1\t0 1\n\nRUN STATISTICS FOR INPUT FILE: ../data/reads_2.fastq\n=============================================\n67961 sequences processed in total\nThe length threshold of paired-end sequences gets evaluated later on (in the validation step)\n\nValidate paired-end files reads_1_trimmed.fq and reads_2_trimmed.fq\nfile_1: reads_1_trimmed.fq, file_2: reads_2_trimmed.fq\n\n\n>>>>> Now validing the length of the 2 paired-end infiles: reads_1_trimmed.fq and reads_2_trimmed.fq <<<<<\nWriting validated paired-end Read 1 reads to reads_1_val_1.fq\nWriting validated paired-end Read 2 reads to reads_2_val_2.fq\n\nTotal number of sequences analysed: 67961\n\nNumber of sequence pairs removed because at least one read was shorter than the length cutoff (20 bp): 7 (0.01%)\n\nDeleting both intermediate output files reads_1_trimmed.fq and reads_2_trimmed.fq\n\n====================================================================================================\n\n", "stderr": "", "objectid": "NA", "commandname": "trim_galore"}
{"cmd": "STAR --runMode genomeGenerate --genomeDir star_index --genomeFastaFiles ../data/refdata/Homo_sapiens.GRCh38.dna_rm.chromosome.21.fa --runThreadN 10", "exitcode": 0, "runtime": "0:00:13", "starttime": "21-03-27 14:50:41", "stdout": "Mar 27 14:50:41 ..... started STAR run\nMar 27 14:50:41 ... starting to generate Genome files\n!!!!! WARNING: --genomeSAindexNbases 14 is too large for the genome size=46709983, which may cause seg-fault at the mapping step. Re-run genome generation with recommended --genomeSAindexNbases 11\nMar 27 14:50:43 ... starting to sort Suffix Array. This may take a long time...\nMar 27 14:50:43 ... sorting Suffix Array chunks and saving them to disk...\nMar 27 14:50:45 ... loading chunks from disk, packing SA...\nMar 27 14:50:46 ... finished generating suffix array\nMar 27 14:50:46 ... generating Suffix Array index\nMar 27 14:50:52 ... completed Suffix Array index\nMar 27 14:50:52 ... writing Genome to disk ...\nMar 27 14:50:52 ... writing Suffix Array to disk ...\nMar 27 14:50:52 ... writing SAindex to disk\nMar 27 14:50:53 ..... finished successfully\n", "stderr": "", "objectid": "NA", "commandname": "STAR"}
{"cmd": "STAR --runThreadN 10 --genomeDir star_index --outSAMtype BAM SortedByCoordinate --readFilesIn ../data/reads_1_trimgalore.fastq ../data/reads_2_trimgalore.fastq --outFileNamePrefix ../data/", "exitcode": 0, "runtime": "0:00:55", "starttime": "21-03-27 14:50:53", "stdout": "Mar 27 14:50:53 ..... started STAR run\nMar 27 14:50:53 ..... loading genome\nMar 27 14:50:54 ..... started mapping\nMar 27 14:51:48 ..... finished mapping\nMar 27 14:51:48 ..... started sorting BAM\nMar 27 14:51:48 ..... finished successfully\n", "stderr": "", "objectid": "None", "commandname": "STAR"}
